FROM node:20-alpine

ARG PACKAGE_JSON_PATH
ARG SHARED_SOURCE_PATH
ARG SHARED_TAILWIND_CONFIG_PATH
ARG GET_FILES_SCRIPT_PATH
WORKDIR /shared

COPY $SHARED_SOURCE_PATH ./
COPY $SHARED_TAILWIND_CONFIG_PATH ./

WORKDIR /app

COPY $PACKAGE_JSON_PATH ./
COPY $GET_FILES_SCRIPT_PATH ./

RUN npm install

EXPOSE 3001

CMD ["npm", "run", "dev"]